
A least square fitting algorithm for alignment of multi-open-curved segments and point pairs of anatomical features obtained from both portal images and simulation radiographs has been developed for patient position verification in radiation therapy. A coordinate system associated with each curved segment pair is constructed so that the discrepancies of each segment pair can be obtained easily. The algorithm allows users to select not only multiple curve pairs but also individual point pairs on the important anatomic landmarks. The misregistration is measured by the sum of the position deviation of individual point pairs and ordinate discrepancies of all segment pairs from their corresponding coordinate systems. A mathematical minimization method is applied to seek an optimal transformation for matching of all segment and/or point pairs involved. The reliability of the algorithm has been tested with both phantom and clinical images. The test results indicate that the typical errors are less than 1 mm and 1 degrees in translation and rotation, respectively.

