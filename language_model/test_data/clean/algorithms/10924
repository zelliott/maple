
A novel method for detecting out-of-plane patient rotation by comparing a single portal image to its reference image is presented. Out-of-plane rotation results in an apparent distortion of the anatomy in a portal image. This distortion can be mathematically predicted with the magnification varying at each point in the image. While scaling of points at equal depth is invariant under in-plane rotation or translation, and changes equally in both dimensions for an axial shift of the patient, a change of scaling in only one dimension can be ascribed to an out-of-plane rotation. For the two conditions that are used in this study, it is shown that out-of-plane rotation yields a different scaling of the image in two perpendicular directions and therefore it is feasible to calculate the scale factors as a function of out-of-plane rotation. Conversely the recovery of scale factors in two different directions at the same time would enable the magnitude of the out-of-plane rotation to be recovered. The properties of the Fourier transform of the image are used to align the portal image with the reference image (a simulator image or first approved portal image) prior to the recovery of the scale factors. Correlating the Fourier transform of the portal image on a log-scale with that of the reference image enables the scale factors to be automatically extracted from a single portal image. In the two approaches investigated, out-of-plane rotations of up to 41 degrees and 20 degrees (respectively) have been recovered with a maximum error of 2.4 degrees. This technique could be used to automatically detect patient roll or tilt prior to or during a treatment session.

