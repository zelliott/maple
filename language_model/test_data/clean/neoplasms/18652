
The purpose of this study was to evaluate a custom portal image - digitally reconstructed radiograph (DRR) registration software application. The software works by transforming the portal image into the coordinate space of the DRR image using three control points placed on each image by the user, and displaying the fused image. In order to test statistically that the software actually improves setup error estimation, an intra- and interobserver phantom study was performed. Portal images of anthropomorphic thoracic and pelvis phantoms with virtually placed irradiation fields at known setup errors were prepared. A group of five doctors was first asked to estimate the setup errors by examining the portal and DRR image side-by-side, not using the software. A second group of four technicians then estimated the same set of images using the registration software. These two groups of human subjects were then compared with an auto-registration feature of the software, which is based on the mutual information between the portal and DRR images. For the thoracic case, the average distance between the actual setup error and the estimated error was 4.3 ± 3.0 mm for doctors using the side-by-side method, 2.1 ± 2.4 mm for technicians using the registration method, and 0.8 ± 0.4mm for the automatic algorithm. For the pelvis case, the average distance between the actual setup error and estimated error was 2.0 ± 0.5 mm for the doctors using the side-by-side method, 2.5 ± 0.4 mm for technicians using the registration method, and 2.0 ± 1.0 mm for the automatic algorithm. The ability of humans to estimate offset values improved statistically using our software for the chest phantom that we tested. Setup error estimation was further improved using our automatic error estimation algorithm. Estimations were not statistically different for the pelvis case. Consistency improved using the software for both the chest and pelvis phantoms. We also tested the automatic algorithm with a database of over 5,000 clinical cases from our hospital. The algorithm performed well for head and breast but performed poorly for pelvis cases, probably due to lack of contrast in the megavoltage portal image. The software incorporates an original algorithm to fuse portal and DRR images, which we describe in detail. The offset optimization algorithm used in the automatic mode of operation is also unique, and may be useful if the contrast of the portal images can be improved.

